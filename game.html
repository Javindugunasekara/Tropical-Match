<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Tropical Match Game</title>
  <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
  <header class="game-header">
    <h1>TROPICAL MATCH</h1>
  </header>

  <div class="container game-container">
    <h1 class="title">üå¥ Tropical Match üå¥</h1>

    <div class="game-controls">
      <label>Level:</label>
      <select id="level">
        <option value="easy">Easy Mode</option>
        <option value="hard">Hard Mode</option>
      </select>
      <button id="startBtn" class="btn primary">Start Game</button>
      <div id="timer">‚è± 30s</div>
    </div>

    <div id="board" class="board"></div>

    <div class="game-footer">
      <a href="dashboard.html" class="btn secondary" id="back">Back</a>
      <div id="result" class="result"></div>
    </div>
  </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const startBtn = document.getElementById('startBtn');

  startBtn.addEventListener('click', async () => {
    try {
      // Fetch API data
      const response = await fetch('https://marcconrad.com/uob/banana/api.php');
      if (!response.ok) throw new Error('Failed to load API');

      const data = await response.json();

      // Save data to localStorage
      localStorage.setItem('bananaGameData', JSON.stringify(data));
      localStorage.setItem('startGame', 'true');

      // Redirect to game dashboard
      window.location.href = 'gamedashboard.html';
    } catch (error) {
      alert('Failed to load game. Try again.');
      console.error(error);
    }
  });
});
</script>

</body>
</html>
